getMenuBar=function(e){var t=e.all_prefixes;var n=$('<nav id="topNavBar" class="navbar navbar-primary" role="navigation">');var r=$('<div class="container-fluid">');n.append(r);var i=$('<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">');r.append(i);var s=$('<ul class="nav navbar-nav">');i.append(s);for(var o=0;o<t.length;o++){addDropDownList(s,t[o],e[t[o]])}return n};addDropDownList=function(e,t,n){var r=$('<li class="dropdown">');linkTittle=$('<a href="#" class="dropdown-toggle" data-toggle="dropdown">').text(t);linkTittle.append($('<b class="caret">'));r.append(linkTittle);e.append(r);var i=$('<ul class="dropdown-menu">');r.append(i);for(var s=0;s<n.length;s++){var o=n[s];var u=$("<a>").text(o).attr("href","#"+o);var a=$("<li>").append(u);u.click(function(e){e.preventDefault();var t=$(this).attr("href");$("#myTab a[href="+t+"]").tab("show")});i.append(a);a=null}};add_qa_link_to_row=function(e,t,n){var r=$("<td></td>");var i="http://cmssdt.cern.ch/SDT/cgi-bin//newQA.py?arch="+t+"&release="+n;var s=$("<a></a>").attr("href",i);var o=$("<span></span>");s.append(o);o.attr("class","glyphicon glyphicon-search");r.append(s);e.append(r)};get_tests_url=function(e,t){var n=t.split("/");var r="";if(e=="utests"||e=="builds"){r="https://cmssdt.cern.ch/SDT/cgi-bin/showBuildLogs.py/"+n[6]+"/"+n[7]+"/"+n[8]+"/"+n[9]+"/"+n[10]}else if(e=="relvals"){r="https://cms-sw.github.io/relvalLogDetail.html#"+n[6]+";"+n[10]}else if(e=="addons"){r="https://cmssdt.cern.ch/SDT/cgi-bin//showAddOnLogs.py/"+n[6]+"/"+n[7]+"/"+n[8]+"/"+n[9]+"/"+n[10]+"/"+"addOnTests"+"/"}return r};get_result_tests=function(e,t){for(var n=0;n<t.length;n++){if(t[n].arch==e){return t[n]}}};add_tests_to_row=function(e,t,n,r){if(e.length==0){var i=$("<td></td>");t.append(i);return}var s=null;var o=null;var u=null;var i=$("<td></td>");var a=get_result_tests(n,e);if(a!=null){s=a.passed;u=a.details;o=a.file}if(s==null||o==null){var i=$("<td></td>");t.append(i);return}var f="";var l="See Details";if(r=="utests"){if(s=="passed"){f="label label-success";l="See Details"}else if(s=="failed"){f="label label-danger";l=u.num_fails+" Tests Failing"}else{f="label label-default";l="Unknown"}}else if(r=="builds"){if(s=="passed"){f="label label-success";l="See Details"}else if(s=="warning"){f="label label-warning";l=u.compWarning+" Warnings"}else{f="label label-danger";var c=u.compError!=null?u.compError:0;var h=u.linkError!=null?u.linkError:0;var p=u.miscError!=null?u.miscError:0;l=c+h+p+" Errors"}}else if(r=="relvals"){f=s?"label label-success":"label label-danger";if(s){f="label label-success";l="See Details"}else{f="label label-danger";l="Pass: "+u.num_passed+" Fail: "+u.num_failed}}else{f=s?"label label-success":"label label-danger"}var d=$("<span></span>");d.append($("<small></small>").text(l));d.attr("class",f);var v=o.split("/");var m=get_tests_url(r,o);var g=$("<a></a>").attr("href",m);g.append(d);i.append(g);t.append(i)};add_static_analyzer_link=function(e,t,n){if(t=="found"){var r="https://cmssdt.cern.ch/SDT/jenkins-artifacts/ib-static-analysis/"+n+"/slc6_amd64_gcc481/llvm-analysis/index.html";var i=$("<a></a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-eye-open"></span>'));i.append($("<span></span>").text(" Static Analyzer"));e.append(i);e.append($("<br>"));var s=$("<a></a>").attr("href",r.replace("llvm-analysis/index.html","reports/modules2statics.txt"));s.append($("<span></span>").text(" Modules to thread unsafe statics"));e.append(s);e.append($("<br>"));var o=$("<a></a>").attr("href",r.replace("llvm-analysis/index.html","reports/tlf2esd.txt"));o.append($("<span></span>").text(" Modules to thread unsafe EventSetup products"));e.append(o)}};add_hlt_tests_link=function(e,t,n){if(t=="found"){var r="https://cmssdt.cern.ch/SDT/jenkins-artifacts/HLT-Validation/"+n;var i=$("<a></a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-list-alt"></span>'));i.append($("<span></span>").text(" HLT Validation"));e.append(i)}};addTagLink=function(e,t){var n=t.indexOf("-")>=0;if(n){var r="https://github.com/cms-sw/cmssw/tree/"+t;var i=$("<a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-tag">'));i.append($("<span>").text(" IB Tag"));e.append(i)}else{var r="https://github.com/cms-sw/cmssw/releases/tag/"+t;var i=$("<a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-tag">'));i.append($("<span>").text(" Release"));e.append(i)}};write_comp_IB_table=function(e,t){var n=e.compared_tags.split("-->")[1];var r=$("<h3><b></b></h3>").text(n);var i=$('<table class="table table-condensed"></table>');i.attr("id",n);var s=$("<td></td>").append(r);addTagLink(s,n);s.append($("<br>"));add_static_analyzer_link(s,e.static_checks,n);s.append($("<br>"));add_hlt_tests_link(s,e.hlt_tests,n);var o=$("<tr>");var u=e.relvals;var a=e.utests;var f=e.addons;var l=e.tests_archs;var c=e.builds;s.attr("rowspan",l.length+1);o.append(s);i.append(o);if(l.length!=0){var h=$("<th></th>").text("Architectures");o.append(h);var p=$("<th></th>").text("Builds");o.append(p);var d=$("<th></th>").text("Unit Tests");o.append(d);var v=$("<th></th>").text("RelVals");o.append(v);var m=$("<th></th>").text("Other Tests");o.append(m);var g=$("<th></th>").text("Q/A");o.append(g);for(var y=0;y<l.length;y++){var b=$("<tr></tr>");var w=$("<td></td>");fill_arch_cell(w,l[y],e.cmsdistTags,n);b.append(w);add_tests_to_row(c,b,l[y],"builds");add_tests_to_row(a,b,l[y],"utests");add_tests_to_row(u,b,l[y],"relvals");add_tests_to_row(f,b,l[y],"addons");add_qa_link_to_row(b,l[y],n);i.append(b)}}t.append(i)};fill_arch_cell=function(e,t,n,r){if(n[t]==null){e.text(t)}else{var i=n[t];var s="IB/".concat(r,"/",t);var o=$("<a>");o.attr("href","https://github.com/cms-sw/cmsdist/commits/"+i);var u="";if(i=="Not Found"){e.text(t);return}else if(i!=s){u="Used same cmsdist tag as "+i.replace("IB/","").replace("/"+t,"")}else{u="See cmsdist tag used for this build"}o.text(t);e.append(o).attr("data-toggle","tooltip");e.append(o).attr("data-placement","right");e.append(o).attr("title",u)}};write_merge_commit=function(e,t){var n=$("<li>");var r=e.number;var i=" Automatic merge of ";for(var s=0;s<e.brought_prs.length;s++){i+="#".concat(e.brought_prs[s]," ")}var o="https://github.com/cms-sw/cmssw/commit/".concat(e.hash);var u=$("<a>").attr("href",o);u.append($("<span>").text(r));n.append(u);var a=$('<span class="glyphicon glyphicon-transfer">');n.append(a);n.append($("<span>").text(i));t.append(n)};write_pr=function(e,t){var n=$("<li>");var r="#".concat(e.number);var i=" from ".concat(e.author_login,": ",e.title);var s=e.url;var o=$("<a>").attr("href",s);o.append($("<span>").text(r));n.append(o);if(e.from_merge_commit){var u=$('<span class="glyphicon glyphicon-transfer">');n.append(u)}n.append($("<span>").text(i));t.append(n)};writeComparisonLinkGithub=function(e,t){var n=e.split("-->")[0];var r=e.replace("-->","...");r="https://github.com/cms-sw/cmssw/compare/".concat(r);var i=$("<a>").attr("href",r);i.append($("<span>").text("See comparison with "+n+" on GitHub"));var s=$("<small>").append(i);t.append(s);t.append($("<br>"));t.append($("<br>"))};write_comparison=function(e,t){var n=e.compared_tags;var r=e.merged_prs;write_comp_IB_table(e,t);if(e.merged_prs.length!=0){writeComparisonLinkGithub(n,t);var i=$("<ul>");for(var s=0;s<r.length;s++){if(r[s].is_merge_commit){write_merge_commit(r[s],i)}else{write_pr(r[s],i)}}t.append(i)}else{var o=n.split("-->")[0];var u=$("<ul>").append($("<li>").text("No new pull requests since "+o));t.append(u)}t.append($("<br>"))};paintComparisons=function(e){var t=$("#"+e.release_name);var n=e.comparisons;for(var r=n.length-1;r>=0;r--){write_comparison(n[r],t)}checkHasToScroll(e.release_name)};checkHasToScroll=function(e){var t=document.location.toString();console.log("option2");var n=t.split("#")[1];var r=n.substring(0,n.lastIndexOf("_"));var i=r.charAt(r.length-1);if(i=="X"||i=="C"){if(e==r){$("html, body").animate({scrollTop:$("#"+n).offset().top},1e3)}}}
